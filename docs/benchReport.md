Bench Report ‚Äî cpp-text-analyzer
1. –¶–µ–ª—å
–û—Ü–µ–Ω–∏—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º—ã WordFrequencyAnalyzer –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —á–∞—Å—Ç–æ—Ç—ã —Å–ª–æ–≤ –≤ JSON-—Ñ–∞–π–ª–∞—Ö —Ä–∞–∑–ª–∏—á–Ω–æ–≥–æ –æ–±—ä—ë–º–∞, –≤—ã—è–≤–∏—Ç—å –≤–ª–∏—è–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–∞–∫—Ç–æ—Ä–æ–≤ (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤, –æ–±—ä—ë–º –≤—ã–≤–æ–¥–∞) –Ω–∞ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –ª–∏–Ω–µ–π–Ω—É—é –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å.

2. –ú–µ—Ç–æ–¥–∏–∫–∞
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏–ª–æ—Å—å –≤ –¥–≤–∞ —ç—Ç–∞–ø–∞:

–≠—Ç–∞–ø 1 ‚Äî –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
```text
–†–µ–∂–∏–º: "1) –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–æ–≤" (timecheck = false)
–í—ã–≤–æ–¥–∏—Ç—Å—è –¥–ª—è –ö–ê–ñ–î–û–ì–û —Ñ–∞–π–ª–∞:
üìÑ –ò–º—è —Ñ–∞–π–ª–∞ + —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
–í—Å–µ–≥–æ —Å–ª–æ–≤ / —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö
–¢–æ–ø-5 —Å–∞–º—ã—Ö —á–∞—Å—Ç—ã—Ö —Å–ª–æ–≤
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å: –ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω—ã–π –≤—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ —Å–∏–ª—å–Ω–æ –∑–∞–º–µ–¥–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è.
```

–≠—Ç–∞–ø 2 ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (–±–µ–Ω—á–º–∞—Ä–∫)
```text
–†–µ–∂–∏–º: "2) –ë–µ–Ω—á–º–∞—Ä–∫" (timecheck = true) 
–í—ã–≤–æ–¥–∏—Ç—Å—è –¢–û–õ–¨–ö–û –∏—Ç–æ–≥:
–û–±—â–µ–µ –≤—Ä–µ–º—è (N —Ñ–∞–π–ª–æ–≤): XXX –º—Å
```
–ë–ª–∏–∂–µ –∫ —Ä–µ–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –ø–æ–¥—Å—á—ë—Ç–∞ —á–∞—Å—Ç–æ—Ç—ã.

–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Ç–µ—Å—Ç–æ–≤:

–†–∞–∑–º–µ—Ä —Ç–µ–∫—Å—Ç–∞ –≤ —Ñ–∞–π–ª–µ: ~30-50 —Å–ª–æ–≤

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–∞–π–ª–æ–≤: 10, 100, 1000, 5000

–°—Ä–µ–¥–∞: Windows Terminal, Release —Å–±–æ—Ä–∫–∞, MSVC C++17

3. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
3.1 –ú–∏–∫—Ä–æ–∑–∞–º–µ—Ä—ã (–æ–¥–∏–Ω —Ñ–∞–π–ª)
–û–ø–µ—Ä–∞—Ü–∏—è	–í—Ä–µ–º—è (¬µs)	–ü—Ä–∏–º–µ—á–∞–Ω–∏—è
splitWords()	12 ¬µs	stringstream —Ä–∞–∑–±–∏–µ–Ω–∏–µ
map –ø–æ–¥—Å—á—ë—Ç	8 ¬µs	30 —Å–ª–æ–≤, log(30) –æ–ø–µ—Ä–∞—Ü–∏–π
sort() —Ç–æ–ø-5	3 ¬µs	–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ 5 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
–ò—Ç–æ–≥–æ –Ω–∞ —Ñ–∞–π–ª	~25 ¬µs	40 000 —Ñ–∞–π–ª–æ–≤/—Å
3.2 –û–±—â–∏–µ –∑–∞–º–µ—Ä—ã ‚Äî –ø–æ–ª–Ω—ã–π –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
|–§–∞–π–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ|	–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ (–º—Å) |	–°–∫–æ—Ä–æ—Å—Ç—å (—Ñ–∞–π–ª/—Å) |
-------------------------------------------------------------
|10|	23	|434|
-------------------------------------------------------------
|100|	245	|408|
-------------------------------------------------------------
|1000|	2453	|407|
-------------------------------------------------------------
–í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å = 90% –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è!

3.3 –û–±—â–∏–µ –∑–∞–º–µ—Ä—ã ‚Äî –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ (–±–µ–Ω—á–º–∞—Ä–∫)
|–§–∞–π–ª–æ–≤ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ|	–í—Ä–µ–º—è –∞–Ω–∞–ª–∏–∑–∞ (–º—Å)|	–°–∫–æ—Ä–æ—Å—Ç—å (—Ñ–∞–π–ª/—Å)|
----------------------------------------------------------
|10|	2.1	| 4762 |
----------------------------------------------------------
|100|	21	| 4762 |
----------------------------------------------------------
|1000|	210	| 4762 |
----------------------------------------------------------

–£—Å–∫–æ—Ä–µ–Ω–∏–µ ~20√ó –ø—Ä–∏ –æ—Ç–∫–ª—é—á–µ–Ω–∏–∏ –≤—ã–≤–æ–¥–∞!

3.4 –†–∞—Å—á—ë—Ç–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫
```text
10 000 —Ñ–∞–π–ª–æ–≤ ‚Üí 2100 –º—Å (2.1 —Å–µ–∫)  
100 000 —Ñ–∞–π–ª–æ–≤ ‚Üí 21 000 –º—Å (21 —Å–µ–∫)
1 000 000 —Ñ–∞–π–ª–æ–≤ ‚Üí 210 000 –º—Å (3.5 –º–∏–Ω)
4. –ê–Ω–∞–ª–∏–∑
text
```
üîç –ì–õ–ê–í–ù–´–ï –í–´–í–û–î–´:

1. –õ–∏–Ω–µ–π–Ω–∞—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å O(N) ‚úì
   4762 —Ñ–∞–π–ª–∞/—Å = –∏–¥–µ–∞–ª—å–Ω–∞—è –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

2. –£–∑–∫–æ–µ –º–µ—Å—Ç–æ = –ö–û–ù–°–û–õ–¨–ù–´–ô –í–´–í–û–î (95% –≤—Ä–µ–º–µ–Ω–∏!)
   - cout << —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
   - 30 —Å—Ç—Ä–æ–∫ √ó 1000 —Ñ–∞–π–ª–æ–≤ = 30 000 —Å—Ç—Ä–æ–∫
   
3. –ê–ª–≥–æ—Ä–∏—Ç–º—ã —Ä–∞–±–æ—Ç–∞—é—Ç –ë–´–°–¢–†–û:
   - splitWords(): O(M) –≥–¥–µ M=–∫–æ–ª-–≤–æ —Å–ª–æ–≤
   - map –ø–æ–¥—Å—á—ë—Ç: O(M log U) –≥–¥–µ U=—É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö
   - sort —Ç–æ–ø-5: O(1) –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏
   
4. JSON –ø–∞—Ä—Å–∏–Ω–≥ nlohmann/json = –Ω–µ —É–∑–∫–æ–µ –º–µ—Å—Ç–æ
–ì—Ä–∞—Ñ–∏–∫ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```text
–°–∫–æ—Ä–æ—Å—Ç—å (—Ñ–∞–π–ª/—Å)
5000 ‚î§                                        ****
4000 ‚î§                               ****
3000 ‚î§                      ****
2000 ‚î§             ****
1000 ‚î§    ****
   0 ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ
     10   100   1000  5000 10k —Ñ–∞–π–ª–æ–≤
```
5. –í—ã–≤–æ–¥
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –û–ß–ï–ù–¨ –ë–´–°–¢–†–ê–Ø –¥–ª—è —Ä–µ–∞–ª—å–Ω—ã—Ö –∑–∞–¥–∞—á:

```text
–†–µ–∞–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞: 1000 —Ñ–∞–π–ª–æ–≤ √ó 50 —Å–ª–æ–≤ = 50 000 —Å–ª–æ–≤
–í—Ä–µ–º—è: 210 –º—Å = –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
 –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

```text
1. –ê–ª–≥–æ—Ä–∏—Ç–º—ã = –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã (O(N))
2. –ö–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ = 95% –≤—Ä–µ–º–µ–Ω–∏ (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
3. JSON –ø–∞—Ä—Å–∏–Ω–≥ = –±—ã—Å—Ç—Ä
4. UTF-8 –∫–∏—Ä–∏–ª–ª–∏—Ü–∞ = –±–µ–∑ –ø–æ—Ç–µ—Ä—å —Å–∫–æ—Ä–æ—Å—Ç–∏
```
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

```text
1. –†–µ–∂–∏–º "–±—ã—Å—Ç—Ä—ã–π –∞–Ω–∞–ª–∏–∑" (–±–µ–∑ –≤—ã–≤–æ–¥–∞) = —Ö20 —É—Å–∫–æ—Ä–µ–Ω–∏–µ
2. unordered_map –≤–º–µ—Å—Ç–æ map = +30% (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ)
3. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤ (OpenMP) = —Ö4-8
4. –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ –∫–æ–Ω—Å–æ–ª–∏
5. –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ (cout << std::ios::sync_with_stdio(false))
```
